# -*- coding: utf-8 -*-
"""""""tgs01.ipynb"

Automatically generated by Colaboratory.

Original file is located at
https://colab.research.google.com/drive/1H7QHmbYqhQWjwWNpvjE6h1cJaFBwmI9L
""""""""

!pip install google-search-results

from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps"","
"""type"": ""search"","
"""google_domain"": ""google.co.id"","
"""q"": ""mie gacoan"","
"""hl"": ""id"","
"""ll"": ""@40.7455096,-74.0083012,14z"","
"""gl"": ""id"","
"""start"": ""0"""
}

search = GoogleSearch(params)
results = search.get_dict()
"local_results = results[""local_results""]"

local_results

#1
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a8f3e1b810153:0x83ac4989e4147c3d"""
}


search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#2
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e69772c0ae0e0d5:0x729b28bd2d5c511"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#3
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a597d8f8616e3:0x555c3aeb47c32b57"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#4
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a5750c0bbda53:0xee6e45d756945c1e"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#5
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a5750c0bbda53:0xee6e45d756945c1e"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#6
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a8f3e1b810153:0x83ac4989e4147c3d"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#6
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a8f3e1b810153:0x83ac4989e4147c3d"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#8
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e6fb9db9bd8f6a9:0x2d361b1ec62c5d76"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#9
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e708979c6fe49e9:0x578cc2b5d02532cd"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#10
from serpapi import GoogleSearch

params = {
"""api_key"": ""e73f363b4a7061d02c2285c974e501b30201e913a46458e9b8f7b2051a5ef78a"","
"""device"": ""desktop"","
"""engine"": ""google_maps_reviews"","
"""hl"": ""id"","
"""data_id"": ""0x2e7a5930d6b7875f:0x6330d678abba8199"""
}

search = GoogleSearch(params)
results = search.get_dict()
"reviews = results[""reviews""]"

results

for i in range(10):
"rating = results[""reviews""][i][""rating""]"
print(rating)
"reviews = results[""reviews""][i][""snippet""]"
print(reviews)

#casefolding
"kalimat = ""5.0 Salah satu resto yang menyajikan menu mie dengan khasnya sendiri yaitu rasa pedasðŸ‘Œ bagi penggila pedas ini sangat cocok dan rekomen banget pokonya. Harga sangat murah banget (under 10k) untuk beberapa varian yaa, rasanya sih enak sesuaikan menu dengan selera masing2 aja ja. Tempat nya sangan aeshtetik pokonya, tapi sayang di masa pandemi gini, ditambah peminat yang setiap hari membeludak, tidak diterapkan nya dine in, alias hanya bisa memesan untuk tak away ( dibawa pulang) saja. Untuk pemesanan harus sabar ya kak, dikarenakan setiap hari pasti antriðŸ˜‚ sistem pelayan juga sekrang sudah teratur sih, mudah dipahami juga karena pengarahan nya cukup baik, hanya saja ruang tunggu kadang tidak mencukupi untuk menampung para pengunjung, harus ngantri dan menunggu diluar juga."""
#mengecilkan semua kalimat
lower_case = kalimat.lower()
print(lower_case)
#menghapus angka
import re
"hasil = re.sub(r""\d+"","""", kalimat)"
print (hasil)
#Menghapus tanda baca
import string
"hasil = kalimat.translate(str.maketrans("""","""",string.punctuation))"
print (hasil)
#membesarkan smua kalimat
upper_case = kalimat.upper()
print(upper_case)

## ----- TOKENIZING ----- ##

import nltk
nltk.download('book')
#or
nltk.download('tests')
#or
nltk.download('all-corpora')# not recommended as it download huge amount of data.

from nltk.tokenize import sent_tokenize, word_tokenize
"kalimat = ""5.0 Salah satu resto yang menyajikan menu mie dengan khasnya sendiri yaitu rasa pedasðŸ‘Œ bagi penggila pedas ini sangat cocok dan rekomen banget pokonya. Harga sangat murah banget (under 10k) untuk beberapa varian yaa, rasanya sih enak sesuaikan menu dengan selera masing2 aja ja. Tempat nya sangan aeshtetik pokonya, tapi sayang di masa pandemi gini, ditambah peminat yang setiap hari membeludak, tidak diterapkan nya dine in, alias hanya bisa memesan untuk tak away ( dibawa pulang) saja. Untuk pemesanan harus sabar ya kak, dikarenakan setiap hari pasti antriðŸ˜‚ sistem pelayan juga sekrang sudah teratur sih, mudah dipahami juga karena pengarahan nya cukup baik, hanya saja ruang tunggu kadang tidak mencukupi untuk menampung para pengunjung, harus ngantri dan menunggu diluar juga."""
tokens = word_tokenize(kalimat)
print(tokens)

# >>>>> STOPWORD REMOVAL(FILTERING) <<<<< #

# Filtering dengan sastrawi
!pip install Sastrawi

from Sastrawi.StopWordRemover.StopWordRemoverFactory import StopWordRemoverFactory
factory = StopWordRemoverFactory()
stopwords = factory.get_stop_words()
print(stopwords)

from Sastrawi.StopWordRemover.StopWordRemoverFactory import StopWordRemoverFactory
factory = StopWordRemoverFactory()
stopword = factory.create_stop_word_remover()
# Kalimat
"kalimat = kalimat = ""5.0 Salah satu resto yang menyajikan menu mie dengan khasnya sendiri yaitu rasa pedasðŸ‘Œ bagi penggila pedas ini sangat cocok dan rekomen banget pokonya. Harga sangat murah banget (under 10k) untuk beberapa varian yaa, rasanya sih enak sesuaikan menu dengan selera masing2 aja ja. Tempat nya sangan aeshtetik pokonya, tapi sayang di masa pandemi gini, ditambah peminat yang setiap hari membeludak, tidak diterapkan nya dine in, alias hanya bisa memesan untuk tak away ( dibawa pulang) saja. Untuk pemesanan harus sabar ya kak, dikarenakan setiap hari pasti antriðŸ˜‚ sistem pelayan juga sekrang sudah teratur sih, mudah dipahami juga karena pengarahan nya cukup baik, hanya saja ruang tunggu kadang tidak mencukupi untuk menampung para pengunjung, harus ngantri dan menunggu diluar juga."""
stop = stopword.remove(kalimat)
print(stop)

## ----- STEMMING ----- ##
!pip install Sastrawi
# Library Untuk Stramming/Strammer Bahasa Indonesia

# import StemmerFactory class
from Sastrawi.Stemmer.StemmerFactory import StemmerFactory# create stemmer
factory = StemmerFactory()
stemmer = factory.create_stemmer()# stemming process
sentence = 'Salah satu resto yang menyajikan menu mie dengan khasnya sendiri yaitu rasa pedasðŸ‘Œ bagi penggila pedas ini sangat cocok dan rekomen banget pokonya. Harga sangat murah banget (under 10k) untuk beberapa varian yaa, rasanya sih enak sesuaikan menu dengan selera masing2 aja ja. Tempat nya sangan aeshtetik pokonya, tapi sayang di masa pandemi gini, ditambah peminat yang setiap hari membeludak, tidak diterapkan nya dine in, alias hanya bisa memesan untuk tak away ( dibawa pulang) saja. Untuk pemesanan harus sabar ya kak, dikarenakan setiap hari pasti antriðŸ˜‚ sistem pelayan juga sekrang sudah teratur sih, mudah dipahami juga karena pengarahan nya cukup baik, hanya saja ruang tunggu kadang tidak mencukupi untuk menampung para pengunjung, harus ngantri dan menunggu diluar juga.'
output   = stemmer.stem(sentence)
print(output)
